<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Story Dashboard - Quản Lý Kỷ Niệm</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
        }

        .sidebar {
            background: linear-gradient(180deg, #2d1b69 0%, #11998e 100%);
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            width: 256px;
        }



        .sidebar-text {
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .logo-text {
            transition: all 0.3s ease;
        }

        .sidebar-item {
            transition: all 0.3s ease;
            border-radius: 12px;
            margin: 4px 8px;
            display: flex;
            align-items: center;
        }

        .sidebar-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(8px);
        }

        .sidebar-item i {
            min-width: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .sidebar-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .header-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .widget-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .progress-ring {
            transform: rotate(-90deg);
        }

        .progress-ring-circle {
            transition: stroke-dashoffset 0.35s;
            transform-origin: 50% 50%;
        }

        .calendar-day {
            transition: all 0.3s ease;
            border-radius: 8px;
        }

        .calendar-day:hover {
            background: linear-gradient(135deg, #667eea, #764ba2);
            transform: scale(1.1);
        }

        .calendar-day.has-event {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .photo-item {
            transition: all 0.3s ease;
            border-radius: 12px;
            overflow: hidden;
        }

        .photo-item:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(240, 147, 251, 0.3);
        }

        .timeline-item {
            position: relative;
            padding-left: 2rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 2px;
            height: 100%;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            left: -4px;
            top: 8px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .happiness-meter {
            background: conic-gradient(from 0deg, #ff6b6b 0%, #feca57 25%, #48dbfb 50%, #ff9ff3 75%, #54a0ff 100%);
            border-radius: 50%;
            padding: 4px;
        }

        .happiness-inner {
            background: #1a1a2e;
            border-radius: 50%;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            border-radius: 12px;
            padding: 12px 24px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
            color: white;
        }

        .search-box {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .search-box:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .modal-dark {
            background: rgba(0, 0, 0, 0.8);
        }

        .modal-content-dark {
            background: linear-gradient(135deg, #2d1b69 0%, #11998e 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
        }

        .form-control-dark {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 8px;
        }

        .form-control-dark:focus {
            background: rgba(255, 255, 255, 0.15);
            border-color: #667eea;
            color: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .form-control-dark::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                width: 256px !important;
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
            }


        }

        .main-content {
            margin-left: 256px;
            transition: margin-left 0.3s ease;
        }



        @media (max-width: 768px) {
            .main-content {
                margin-left: 0 !important;
            }
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-slide-in {
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body class="text-white">
    <!-- Sidebar -->
    <div class="sidebar fixed left-0 top-0 h-full z-50" id="sidebar">
        <div class="p-6">
            <div class="flex items-center space-x-3 mb-8">
                <div class="w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center">
                    <i class="fas fa-heart text-white"></i>
                </div>
                <h1 class="text-xl font-bold logo-text">Love Dashboard</h1>
            </div>
            
            <nav class="space-y-2">
                <a href="#" class="sidebar-item active flex items-center p-3 text-white" onclick="showSection('dashboard')">
                    <i class="fas fa-home w-5 mr-3"></i>
                    <span class="sidebar-text">Dashboard</span>
                </a>
                <a href="#" class="sidebar-item flex items-center p-3 text-white" onclick="showSection('calendar')">
                    <i class="fas fa-calendar w-5 mr-3"></i>
                    <span class="sidebar-text">Lịch Sự Kiện</span>
                </a>
                <a href="#" class="sidebar-item flex items-center p-3 text-white" onclick="showSection('memories')">
                    <i class="fas fa-images w-5 mr-3"></i>
                    <span class="sidebar-text">Kỷ Niệm</span>
                </a>
                <a href="#" class="sidebar-item flex items-center p-3 text-white" onclick="showSection('gallery')">
                    <i class="fas fa-camera w-5 mr-3"></i>
                    <span class="sidebar-text">Thư Viện Ảnh</span>
                </a>
                <a href="#" class="sidebar-item flex items-center p-3 text-white" onclick="showSection('timeline')">
                    <i class="fas fa-clock w-5 mr-3"></i>
                    <span class="sidebar-text">Timeline</span>
                </a>
                <a href="#" class="sidebar-item flex items-center p-3 text-white" onclick="showSection('analytics')">
                    <i class="fas fa-chart-bar w-5 mr-3"></i>
                    <span class="sidebar-text">Thống Kê</span>
                </a>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Header -->
        <header class="header-gradient p-4 flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <button class="md:hidden text-white" onclick="toggleSidebar()">
                    <i class="fas fa-bars text-xl"></i>
                </button>
                <h2 class="text-2xl font-bold hidden md:block" id="pageTitle">Dashboard</h2>
            </div>
            
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <input type="text" placeholder="Tìm kiếm..." class="search-box px-4 py-2 text-white w-64">
                    <i class="fas fa-search absolute right-3 top-3 text-gray-300"></i>
                </div>
                <button class="btn-gradient" onclick="showAddModal()">
                    <i class="fas fa-plus mr-2"></i>Thêm Mới
                </button>
                
                <!-- Notification Icon -->
                <div class="relative">
                    <button class="w-10 h-10 bg-white bg-opacity-10 rounded-full flex items-center justify-center hover:bg-opacity-20 transition-all" onclick="toggleNotifications()">
                        <i class="fas fa-bell text-white"></i>
                        <span class="notification-badge">3</span>
                    </button>
                </div>
                
                <!-- Settings Icon -->
                <div class="relative">
                    <button class="w-10 h-10 bg-white bg-opacity-10 rounded-full flex items-center justify-center hover:bg-opacity-20 transition-all" onclick="toggleSettings()">
                        <i class="fas fa-cog text-white"></i>
                    </button>
                </div>
                
                <!-- User Icon -->
                <div class="w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center cursor-pointer" onclick="toggleUserMenu()">
                    <i class="fas fa-user text-white"></i>
                </div>
            </div>
        </header>

        <!-- Notifications Dropdown -->
        <div id="notificationsDropdown" class="fixed top-16 right-4 w-80 widget-card p-4 z-50 hidden">
            <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold text-lg">Thông Báo</h3>
                <button onclick="toggleNotifications()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-3">
                <div class="flex items-start space-x-3 p-3 bg-white bg-opacity-5 rounded-lg">
                    <div class="w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center">
                        <i class="fas fa-heart text-white text-xs"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-medium">Kỷ niệm mới được thêm</p>
                        <p class="text-xs text-gray-400">5 phút trước</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3 p-3 bg-white bg-opacity-5 rounded-lg">
                    <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-teal-600 rounded-full flex items-center justify-center">
                        <i class="fas fa-calendar text-white text-xs"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-medium">Sự kiện sắp tới: Ngày Valentine</p>
                        <p class="text-xs text-gray-400">1 giờ trước</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3 p-3 bg-white bg-opacity-5 rounded-lg">
                    <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-yellow-600 rounded-full flex items-center justify-center">
                        <i class="fas fa-camera text-white text-xs"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-medium">10 ảnh mới được tải lên</p>
                        <p class="text-xs text-gray-400">2 giờ trước</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Dropdown -->
        <div id="settingsDropdown" class="fixed top-16 right-4 w-64 widget-card p-4 z-50 hidden">
            <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold text-lg">Cài Đặt</h3>
                <button onclick="toggleSettings()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-2">
                <button class="w-full text-left p-3 hover:bg-white hover:bg-opacity-10 rounded-lg transition-all">
                    <i class="fas fa-palette mr-3"></i>Giao diện
                </button>
                <button class="w-full text-left p-3 hover:bg-white hover:bg-opacity-10 rounded-lg transition-all">
                    <i class="fas fa-bell mr-3"></i>Thông báo
                </button>
                <button class="w-full text-left p-3 hover:bg-white hover:bg-opacity-10 rounded-lg transition-all">
                    <i class="fas fa-shield-alt mr-3"></i>Bảo mật
                </button>
                <button class="w-full text-left p-3 hover:bg-white hover:bg-opacity-10 rounded-lg transition-all">
                    <i class="fas fa-download mr-3"></i>Sao lưu dữ liệu
                </button>
                <hr class="border-gray-600 my-2">
                <button class="w-full text-left p-3 hover:bg-white hover:bg-opacity-10 rounded-lg transition-all text-red-400">
                    <i class="fas fa-sign-out-alt mr-3"></i>Đăng xuất
                </button>
            </div>
        </div>

        <!-- User Menu Dropdown -->
        <div id="userMenuDropdown" class="fixed top-16 right-4 w-48 widget-card p-4 z-50 hidden">
            <div class="text-center mb-4">
                <div class="w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-2">
                    <i class="fas fa-user text-white text-xl"></i>
                </div>
                <p class="font-semibold">Couple Name</p>
                <p class="text-sm text-gray-400">couple@love.com</p>
            </div>
            <div class="space-y-2">
                <button class="w-full text-left p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-all">
                    <i class="fas fa-user-edit mr-2"></i>Hồ sơ
                </button>
                <button class="w-full text-left p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-all">
                    <i class="fas fa-heart mr-2"></i>Tài khoản đôi
                </button>
                <hr class="border-gray-600 my-2">
                <button class="w-full text-left p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-all text-red-400">
                    <i class="fas fa-sign-out-alt mr-2"></i>Đăng xuất
                </button>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboardSection" class="p-6">
            <!-- Stats Widgets -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="widget-card p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-300 text-sm">Tổng Sự Kiện</p>
                            <p class="text-3xl font-bold text-white" id="totalEvents">24</p>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-calendar text-white"></i>
                        </div>
                    </div>
                </div>
                
                <div class="widget-card p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-300 text-sm">Ảnh Kỷ Niệm</p>
                            <p class="text-3xl font-bold text-white" id="totalPhotos">156</p>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-r from-pink-500 to-red-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-images text-white"></i>
                        </div>
                    </div>
                </div>
                
                <div class="widget-card p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-300 text-sm">Ngày Bên Nhau</p>
                            <p class="text-3xl font-bold text-white" id="daysTogether">365</p>
                        </div>
                        <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-heart text-white"></i>
                        </div>
                    </div>
                </div>
                
                <div class="widget-card p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-300 text-sm">Mức Hạnh Phúc</p>
                            <p class="text-3xl font-bold text-white">98%</p>
                        </div>
                        <div class="happiness-meter w-12 h-12">
                            <div class="happiness-inner">
                                <i class="fas fa-smile text-yellow-400"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Progress Rings -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="widget-card p-6 text-center">
                    <h3 class="text-lg font-semibold mb-4">Mục Tiêu Năm</h3>
                    <div class="relative w-32 h-32 mx-auto">
                        <svg class="progress-ring w-32 h-32">
                            <circle cx="64" cy="64" r="56" stroke="rgba(255,255,255,0.1)" stroke-width="8" fill="transparent"/>
                            <circle cx="64" cy="64" r="56" stroke="url(#gradient1)" stroke-width="8" fill="transparent" 
                                    stroke-dasharray="351.86" stroke-dashoffset="87.97" class="progress-ring-circle"/>
                            <defs>
                                <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#667eea"/>
                                    <stop offset="100%" style="stop-color:#764ba2"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-2xl font-bold">75%</span>
                        </div>
                    </div>
                    <p class="text-gray-300 mt-2">Hoàn thành mục tiêu</p>
                </div>
                
                <div class="widget-card p-6 text-center">
                    <h3 class="text-lg font-semibold mb-4">Hoạt Động Tháng</h3>
                    <div class="relative w-32 h-32 mx-auto">
                        <svg class="progress-ring w-32 h-32">
                            <circle cx="64" cy="64" r="56" stroke="rgba(255,255,255,0.1)" stroke-width="8" fill="transparent"/>
                            <circle cx="64" cy="64" r="56" stroke="url(#gradient2)" stroke-width="8" fill="transparent" 
                                    stroke-dasharray="351.86" stroke-dashoffset="105.56" class="progress-ring-circle"/>
                            <defs>
                                <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#f093fb"/>
                                    <stop offset="100%" style="stop-color:#f5576c"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-2xl font-bold">70%</span>
                        </div>
                    </div>
                    <p class="text-gray-300 mt-2">Hoạt động trong tháng</p>
                </div>
                
                <div class="widget-card p-6 text-center">
                    <h3 class="text-lg font-semibold mb-4">Kỷ Niệm Mới</h3>
                    <div class="relative w-32 h-32 mx-auto">
                        <svg class="progress-ring w-32 h-32">
                            <circle cx="64" cy="64" r="56" stroke="rgba(255,255,255,0.1)" stroke-width="8" fill="transparent"/>
                            <circle cx="64" cy="64" r="56" stroke="url(#gradient3)" stroke-width="8" fill="transparent" 
                                    stroke-dasharray="351.86" stroke-dashoffset="70.37" class="progress-ring-circle"/>
                            <defs>
                                <linearGradient id="gradient3" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#4facfe"/>
                                    <stop offset="100%" style="stop-color:#00f2fe"/>
                                </linearGradient>
                            </defs>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-2xl font-bold">80%</span>
                        </div>
                    </div>
                    <p class="text-gray-300 mt-2">Kỷ niệm được thêm</p>
                </div>
            </div>

            <!-- Recent Activities -->
            <div class="widget-card p-6">
                <h3 class="text-xl font-semibold mb-4">Hoạt Động Gần Đây</h3>
                <div class="space-y-4">
                    <div class="flex items-center space-x-4 p-3 bg-white bg-opacity-5 rounded-lg">
                        <div class="w-10 h-10 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-heart text-white text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <p class="font-medium">Thêm sự kiện mới: "Ngày kỷ niệm 1 năm"</p>
                            <p class="text-gray-400 text-sm">2 giờ trước</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4 p-3 bg-white bg-opacity-5 rounded-lg">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-teal-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-camera text-white text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <p class="font-medium">Tải lên 5 ảnh mới vào thư viện</p>
                            <p class="text-gray-400 text-sm">1 ngày trước</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4 p-3 bg-white bg-opacity-5 rounded-lg">
                        <div class="w-10 h-10 bg-gradient-to-r from-green-500 to-yellow-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-comment text-white text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <p class="font-medium">Thêm bình luận cho ảnh "Chuyến đi Đà Lạt"</p>
                            <p class="text-gray-400 text-sm">3 ngày trước</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Calendar Section -->
        <div id="calendarSection" class="p-6" style="display: none;">
            <div class="widget-card p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold">Lịch Sự Kiện</h3>
                    <div class="flex space-x-2">
                        <button class="btn-gradient" onclick="previousMonth()">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="btn-gradient" onclick="nextMonth()">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <div class="text-center mb-6">
                    <h4 class="text-xl font-semibold" id="calendarMonth"></h4>
                </div>
                
                <div class="grid grid-cols-7 gap-2 mb-4">
                    <div class="text-center font-semibold text-gray-300 py-2">CN</div>
                    <div class="text-center font-semibold text-gray-300 py-2">T2</div>
                    <div class="text-center font-semibold text-gray-300 py-2">T3</div>
                    <div class="text-center font-semibold text-gray-300 py-2">T4</div>
                    <div class="text-center font-semibold text-gray-300 py-2">T5</div>
                    <div class="text-center font-semibold text-gray-300 py-2">T6</div>
                    <div class="text-center font-semibold text-gray-300 py-2">T7</div>
                </div>
                
                <div class="grid grid-cols-7 gap-2" id="calendarDays"></div>
            </div>
        </div>

        <!-- Memories Section -->
        <div id="memoriesSection" class="p-6" style="display: none;">
            <div class="widget-card p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold">Quản Lý Kỷ Niệm</h3>
                    <button class="btn-gradient" onclick="showAddMemoryModal()">
                        <i class="fas fa-plus mr-2"></i>Thêm Kỷ Niệm
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="memoriesList">
                    <!-- Memories will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Gallery Section -->
        <div id="gallerySection" class="p-6" style="display: none;">
            <div class="widget-card p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold">Thư Viện Ảnh</h3>
                    <button class="btn-gradient" onclick="showAddPhotoModal()">
                        <i class="fas fa-upload mr-2"></i>Tải Ảnh Lên
                    </button>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" id="photoGallery">
                    <!-- Photos will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Timeline Section -->
        <div id="timelineSection" class="p-6" style="display: none;">
            <div class="widget-card p-6">
                <h3 class="text-2xl font-bold mb-6">Timeline Kỷ Niệm</h3>
                
                <div class="space-y-6" id="timelineList">
                    <!-- Timeline items will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Analytics Section -->
        <div id="analyticsSection" class="p-6" style="display: none;">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="widget-card p-6">
                    <h3 class="text-xl font-semibold mb-4">Thống Kê Hoạt Động</h3>
                    <canvas id="activityChart" width="400" height="200"></canvas>
                </div>
                
                <div class="widget-card p-6">
                    <h3 class="text-xl font-semibold mb-4">Phân Bố Sự Kiện</h3>
                    <canvas id="eventChart" width="400" height="200"></canvas>
                </div>
                
                <div class="widget-card p-6 lg:col-span-2">
                    <h3 class="text-xl font-semibold mb-4">Mức Độ Hạnh Phúc Theo Thời Gian</h3>
                    <canvas id="happinessChart" width="800" height="300"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Memory Modal -->
    <div id="addMemoryModal" class="fixed inset-0 modal-dark z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="modal-content-dark p-6 w-full max-w-md">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold">Thêm Kỷ Niệm Mới</h3>
                    <button onclick="closeModal('addMemoryModal')" class="text-gray-400 hover:text-white">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <form id="memoryForm">
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Tiêu đề</label>
                        <input type="text" id="memoryTitle" class="form-control-dark w-full p-3" placeholder="Nhập tiêu đề kỷ niệm">
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Ngày</label>
                        <input type="date" id="memoryDate" class="form-control-dark w-full p-3">
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Mô tả</label>
                        <textarea id="memoryDescription" class="form-control-dark w-full p-3 h-24" placeholder="Mô tả chi tiết về kỷ niệm"></textarea>
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium mb-2">Loại sự kiện</label>
                        <select id="memoryType" class="form-control-dark w-full p-3">
                            <option value="anniversary">Kỷ niệm</option>
                            <option value="date">Hẹn hò</option>
                            <option value="travel">Du lịch</option>
                            <option value="special">Đặc biệt</option>
                        </select>
                    </div>
                    
                    <div class="flex space-x-3">
                        <button type="button" onclick="closeModal('addMemoryModal')" class="flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                            Hủy
                        </button>
                        <button type="submit" class="flex-1 btn-gradient">
                            Thêm Kỷ Niệm
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentDate = new Date();
        let memories = JSON.parse(localStorage.getItem('memories')) || [];
        let photos = JSON.parse(localStorage.getItem('photos')) || [];
        
        // Sample data if empty
        if (memories.length === 0) {
            memories = [
                {
                    id: 1,
                    title: "Ngày đầu gặp nhau",
                    date: "2023-02-14",
                    description: "Ngày đầu tiên chúng ta gặp nhau tại quán cà phê",
                    type: "special"
                },
                {
                    id: 2,
                    title: "Chuyến đi Đà Lạt",
                    date: "2023-05-20",
                    description: "Chuyến du lịch đầu tiên cùng nhau",
                    type: "travel"
                }
            ];
            localStorage.setItem('memories', JSON.stringify(memories));
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            renderCalendar();
            renderMemories();
            renderGallery();
            renderTimeline();
            initCharts();
        });

        // Navigation functions
        function showSection(sectionName) {
            // Hide all sections
            const sections = ['dashboard', 'calendar', 'memories', 'gallery', 'timeline', 'analytics'];
            sections.forEach(section => {
                document.getElementById(section + 'Section').style.display = 'none';
            });
            
            // Show selected section
            document.getElementById(sectionName + 'Section').style.display = 'block';
            
            // Update active sidebar item
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.sidebar-item').classList.add('active');
            
            // Update page title
            const titles = {
                dashboard: 'Dashboard',
                calendar: 'Lịch Sự Kiện',
                memories: 'Quản Lý Kỷ Niệm',
                gallery: 'Thư Viện Ảnh',
                timeline: 'Timeline',
                analytics: 'Thống Kê'
            };
            document.getElementById('pageTitle').textContent = titles[sectionName];
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-open');
        }



        function toggleNotifications() {
            const dropdown = document.getElementById('notificationsDropdown');
            const settingsDropdown = document.getElementById('settingsDropdown');
            const userDropdown = document.getElementById('userMenuDropdown');
            
            // Close other dropdowns
            settingsDropdown.classList.add('hidden');
            userDropdown.classList.add('hidden');
            
            dropdown.classList.toggle('hidden');
        }

        function toggleSettings() {
            const dropdown = document.getElementById('settingsDropdown');
            const notificationsDropdown = document.getElementById('notificationsDropdown');
            const userDropdown = document.getElementById('userMenuDropdown');
            
            // Close other dropdowns
            notificationsDropdown.classList.add('hidden');
            userDropdown.classList.add('hidden');
            
            dropdown.classList.toggle('hidden');
        }

        function toggleUserMenu() {
            const dropdown = document.getElementById('userMenuDropdown');
            const notificationsDropdown = document.getElementById('notificationsDropdown');
            const settingsDropdown = document.getElementById('settingsDropdown');
            
            // Close other dropdowns
            notificationsDropdown.classList.add('hidden');
            settingsDropdown.classList.add('hidden');
            
            dropdown.classList.toggle('hidden');
        }

        // Modal functions
        function showAddModal() {
            document.getElementById('addMemoryModal').classList.remove('hidden');
        }

        function showAddMemoryModal() {
            document.getElementById('addMemoryModal').classList.remove('hidden');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        // Memory management
        function addMemory(event) {
            event.preventDefault();
            
            const memory = {
                id: Date.now(),
                title: document.getElementById('memoryTitle').value,
                date: document.getElementById('memoryDate').value,
                description: document.getElementById('memoryDescription').value,
                type: document.getElementById('memoryType').value
            };
            
            memories.push(memory);
            localStorage.setItem('memories', JSON.stringify(memories));
            
            renderMemories();
            renderTimeline();
            updateStats();
            closeModal('addMemoryModal');
            
            // Reset form
            document.getElementById('memoryForm').reset();
        }

        function deleteMemory(id) {
            if (confirm('Bạn có chắc chắn muốn xóa kỷ niệm này?')) {
                memories = memories.filter(memory => memory.id !== id);
                localStorage.setItem('memories', JSON.stringify(memories));
                renderMemories();
                renderTimeline();
                updateStats();
            }
        }

        function editMemory(id) {
            const memory = memories.find(m => m.id === id);
            if (memory) {
                document.getElementById('memoryTitle').value = memory.title;
                document.getElementById('memoryDate').value = memory.date;
                document.getElementById('memoryDescription').value = memory.description;
                document.getElementById('memoryType').value = memory.type;
                
                // Remove old memory and show modal
                deleteMemory(id);
                showAddMemoryModal();
            }
        }

        // Render functions
        function renderMemories() {
            const memoriesList = document.getElementById('memoriesList');
            memoriesList.innerHTML = '';
            
            memories.forEach(memory => {
                const memoryCard = document.createElement('div');
                memoryCard.className = 'widget-card p-4 animate-fade-in';
                memoryCard.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">${memory.title}</h4>
                        <div class="flex space-x-2">
                            <button onclick="editMemory(${memory.id})" class="text-blue-400 hover:text-blue-300">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button onclick="deleteMemory(${memory.id})" class="text-red-400 hover:text-red-300">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <p class="text-gray-300 text-sm mb-2">${formatDate(memory.date)}</p>
                    <p class="text-gray-400 text-sm mb-3">${memory.description}</p>
                    <span class="inline-block px-3 py-1 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full text-xs">
                        ${getTypeLabel(memory.type)}
                    </span>
                `;
                memoriesList.appendChild(memoryCard);
            });
        }

        function renderGallery() {
            const gallery = document.getElementById('photoGallery');
            gallery.innerHTML = '';
            
            // Sample photos
            for (let i = 1; i <= 12; i++) {
                const photoItem = document.createElement('div');
                photoItem.className = 'photo-item cursor-pointer';
                photoItem.innerHTML = `
                    <img src="https://picsum.photos/300/300?random=${i}" alt="Ảnh ${i}" class="w-full h-48 object-cover">
                `;
                photoItem.onclick = () => openPhotoModal(i);
                gallery.appendChild(photoItem);
            }
        }

        function renderTimeline() {
            const timeline = document.getElementById('timelineList');
            timeline.innerHTML = '';
            
            const sortedMemories = [...memories].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedMemories.forEach(memory => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item animate-slide-in';
                timelineItem.innerHTML = `
                    <div class="widget-card p-4 ml-4">
                        <div class="flex justify-between items-start">
                            <div>
                                <h4 class="font-semibold text-lg">${memory.title}</h4>
                                <p class="text-gray-300 text-sm">${formatDate(memory.date)}</p>
                                <p class="text-gray-400 mt-2">${memory.description}</p>
                            </div>
                            <span class="inline-block px-3 py-1 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full text-xs">
                                ${getTypeLabel(memory.type)}
                            </span>
                        </div>
                    </div>
                `;
                timeline.appendChild(timelineItem);
            });
        }

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            // Update month display
            const monthNames = ['Tháng 1', 'Tháng 2', 'Tháng 3', 'Tháng 4', 'Tháng 5', 'Tháng 6',
                              'Tháng 7', 'Tháng 8', 'Tháng 9', 'Tháng 10', 'Tháng 11', 'Tháng 12'];
            document.getElementById('calendarMonth').textContent = `${monthNames[month]} ${year}`;
            
            // Get first day and number of days
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            // Clear calendar
            const calendarDays = document.getElementById('calendarDays');
            calendarDays.innerHTML = '';
            
            // Add empty cells
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                calendarDays.appendChild(emptyDay);
            }
            
            // Add days
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day text-center py-3 cursor-pointer';
                dayElement.textContent = day;
                
                // Check for events
                const dateString = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const hasEvent = memories.some(memory => memory.date === dateString);
                
                if (hasEvent) {
                    dayElement.classList.add('has-event');
                }
                
                calendarDays.appendChild(dayElement);
            }
        }

        function previousMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        }

        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        }

        // Utility functions
        function updateStats() {
            document.getElementById('totalEvents').textContent = memories.length;
            document.getElementById('totalPhotos').textContent = Math.floor(Math.random() * 200) + 100;
            
            // Calculate days together (from first memory)
            if (memories.length > 0) {
                const firstDate = new Date(Math.min(...memories.map(m => new Date(m.date))));
                const today = new Date();
                const daysTogether = Math.floor((today - firstDate) / (1000 * 60 * 60 * 24));
                document.getElementById('daysTogether').textContent = daysTogether;
            }
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('vi-VN');
        }

        function getTypeLabel(type) {
            const labels = {
                anniversary: 'Kỷ niệm',
                date: 'Hẹn hò',
                travel: 'Du lịch',
                special: 'Đặc biệt'
            };
            return labels[type] || type;
        }

        function openPhotoModal(index) {
            // Implementation for photo modal
            alert(`Mở ảnh ${index} - Tính năng sẽ được phát triển!`);
        }

        function initCharts() {
            // Activity Chart
            const activityCtx = document.getElementById('activityChart').getContext('2d');
            new Chart(activityCtx, {
                type: 'line',
                data: {
                    labels: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'],
                    datasets: [{
                        label: 'Hoạt động',
                        data: [12, 19, 3, 5, 2, 3, 9],
                        borderColor: 'rgb(102, 126, 234)',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                color: 'white'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'white'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });

            // Event Chart
            const eventCtx = document.getElementById('eventChart').getContext('2d');
            new Chart(eventCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Kỷ niệm', 'Hẹn hò', 'Du lịch', 'Đặc biệt'],
                    datasets: [{
                        data: [30, 25, 20, 25],
                        backgroundColor: [
                            'rgb(102, 126, 234)',
                            'rgb(240, 147, 251)',
                            'rgb(79, 172, 254)',
                            'rgb(245, 87, 108)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    }
                }
            });

            // Happiness Chart
            const happinessCtx = document.getElementById('happinessChart').getContext('2d');
            new Chart(happinessCtx, {
                type: 'bar',
                data: {
                    labels: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'T8', 'T9', 'T10', 'T11', 'T12'],
                    datasets: [{
                        label: 'Mức độ hạnh phúc (%)',
                        data: [85, 90, 78, 92, 88, 95, 87, 91, 89, 93, 86, 94],
                        backgroundColor: 'rgba(240, 147, 251, 0.8)',
                        borderColor: 'rgb(240, 147, 251)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                color: 'white'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'white'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });
        }

        // Form submission
        document.getElementById('memoryForm').addEventListener('submit', addMemory);

        // Responsive sidebar
        window.addEventListener('resize', function() {
            if (window.innerWidth >= 768) {
                document.getElementById('sidebar').classList.remove('mobile-open');
            }
        });

        // Close dropdowns and sidebar when clicking outside
        document.addEventListener('click', function(event) {
            const notificationsDropdown = document.getElementById('notificationsDropdown');
            const settingsDropdown = document.getElementById('settingsDropdown');
            const userDropdown = document.getElementById('userMenuDropdown');
            const sidebar = document.getElementById('sidebar');
            
            // Check if click is outside dropdowns and their trigger buttons
            if (!event.target.closest('#notificationsDropdown') && 
                !event.target.closest('button[onclick="toggleNotifications()"]')) {
                notificationsDropdown.classList.add('hidden');
            }
            
            if (!event.target.closest('#settingsDropdown') && 
                !event.target.closest('button[onclick="toggleSettings()"]')) {
                settingsDropdown.classList.add('hidden');
            }
            
            if (!event.target.closest('#userMenuDropdown') && 
                !event.target.closest('div[onclick="toggleUserMenu()"]')) {
                userDropdown.classList.add('hidden');
            }
            
            // Close sidebar on mobile when clicking outside
            if (window.innerWidth < 768 && 
                !event.target.closest('#sidebar') && 
                !event.target.closest('button[onclick="toggleSidebar()"]')) {
                sidebar.classList.remove('mobile-open');
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98830745a44125e5',t:'MTc1OTM5NTgyNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
