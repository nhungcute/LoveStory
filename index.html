<!doctype html>
<html lang="vi" class="h-100">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
   <title>Social Memory</title>
   
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
   <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css">
   <link rel="stylesheet" href="style.css">
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	
	<script src="utils.js" defer></script>
	<script src="home.js" defer></script>
	<script src="feed.js" defer></script>
	<script src="notification.js" defer></script>
	<script src="app.js" defer></script>

   <style>
      @view-transition {
         navigation: auto;
      }
   </style>
</head>

<body class="h-100">
   <div id="app">
      <header class="app-header">
         <div class="d-flex align-items-center justify-content-between">
            <div>
               <h5 id="app-title" class="mb-0 fw-bold">Love Story</h5>
            </div>
            <div class="d-flex align-items-center gap-3">
               <button class="btn btn-link text-white p-0 position-relative" id="notification-btn"
                  aria-label="M·ªü th√¥ng b√°o">
                  <i class="bi bi-bell-fill fs-4"></i>
                  <span id="notification-badge" class="position-absolute badge rounded-pill bg-danger d-none"
                     style="font-size: 0.65rem; top: -5px; right: -8px;">0</span>
               </button>
               <button class="btn btn-link text-white p-0" id="profile-btn" aria-label="Trang c√° nh√¢n">
                  <div class="avatar-circle">
                     <div id="header-avatar" class="w-100 h-100 d-flex align-items-center justify-content-center"><i
                           class="bi bi-person-fill theme-text-primary fs-4"></i>
                     </div>
                  </div>
               </button>
            </div>
         </div>
      </header>
      <div id="edit-mode-banner" class="edit-mode-banner d-none">
         <div class="fw-bold">
            <i class="bi bi-pencil-fill me-2"></i>Ch·∫ø ƒë·ªô ch·ªânh s·ª≠a b·ªë c·ª•c
         </div>
         <small class="d-block mt-1">K√©o <i class="bi bi-arrows-move"></i> ƒë·ªÉ di chuy·ªÉn ‚Ä¢ Nh·∫•n <i
               class="bi bi-arrows-fullscreen"></i> ƒë·ªÉ ƒë·ªïi k√≠ch th∆∞·ªõc</small>
         <div class="mt-2"><button class="btn btn-light btn-sm" id="exit-edit-mode">Xong</button>
         </div>
      </div>
      <main class="main-content">
         <div id="ptr-element" class="ptr-element">
            <div class="ptr-content">
               <svg class="ptr-circle-svg" viewBox="0 0 30 30">
                  <circle class="ptr-circle-bg" cx="15" cy="15" r="12"></circle>
                  <circle id="ptr-progress-circle" class="ptr-circle-progress" cx="15" cy="15" r="12"></circle>
               </svg>
               <div id="ptr-text" class="small text-muted fw-bold mt-1" style="font-size: 10px;"> </div>
            </div>
         </div>
         <div id="tab-feed" class="tab-pane h-100 d-none">
            <div id="active-filter-bar" class="d-none fade-in">
               <span class="fw-bold theme-text-primary">
                  <i class="bi bi-hash me-1"></i>Hashtag: <span id="current-filter-name">#tag</span>
               </span>
               <button class="btn btn-sm btn-outline-danger rounded-pill" onclick="clearHashtagFilter()">
                  <i class="bi bi-x-lg"></i> B·ªè l·ªçc
               </button>
            </div>
            <div class="container pt-2 pb-5" id="posts-container">
            </div>
         </div>
         <div id="tab-home" class="tab-pane h-100">
            <div class="container pt-2 pb-5">
               <div id="stats-container" class="stats-container"></div>
            </div>
         </div>
         <div id="tab-search" class="tab-pane h-100 d-none">
            <div class="container pt-3 pb-5">
               <div class="card shadow-sm border-0 mb-3">
                  <div class="card-body p-2 d-flex align-items-center">
                     <i class="bi bi-search text-muted ms-2 fs-5"></i>
                     <input type="text" id="smart-search-input" class="form-control border-0 shadow-none"
                        placeholder="H·ªèi t√¥i v·ªÅ k·ª∑ ni·ªám...">
                     <button class="btn btn-sm btn-light rounded-circle" id="clear-search" style="display:none;">
                        <i class="bi bi-x"></i>
                     </button>
                  </div>
               </div>

               <div id="search-suggestions" class="d-flex gap-2 overflow-auto pb-2 mb-2 no-scrollbar">
                  <span class="badge bg-light text-dark border p-2 fw-normal cursor-pointer"
                     onclick="triggerSearch('nhi·ªÅu like nh·∫•t')">‚ù§Ô∏è Nhi·ªÅu like nh·∫•t</span>
                  <span class="badge bg-light text-dark border p-2 fw-normal cursor-pointer"
                     onclick="triggerSearch('sinh nh·∫≠t')">üéÇ Sinh nh·∫≠t</span>
                  <span class="badge bg-light text-dark border p-2 fw-normal cursor-pointer"
                     onclick="triggerSearch('th·ªëng k√™')">üìä Th·ªëng k√™</span>
               </div>

               <div id="search-results-area">
                  <div class="text-center py-5 text-muted">
                     <i class="bi bi-robot theme-text-primary" style="font-size: 3rem;"></i>
                     <p class="mt-3">Nh·∫≠p t·ª´ kh√≥a ho·∫∑c c√¢u h·ªèi.<br>V√≠ d·ª•: "H√¥m nay ƒÉn g√¨", "Ng√†y k·ª∑ ni·ªám"...</p>
                  </div>
               </div>
            </div>
         </div>
      </main>
      <button class="fab-btn d-none" id="fab-btn"> <i class="bi bi-plus-lg fs-4"></i> </button>
      <nav class="bottom-nav">
         <div class="d-flex justify-content-around py-1">
            <button class="nav-link border-0 bg-transparent d-flex flex-column align-items-center" data-tab="feed">
               <i class="bi bi-globe2 fs-4"></i> <small class="fw-semibold">B·∫£ng tin</small>
            </button>
            <button class="nav-link border-0 bg-transparent d-flex flex-column align-items-center active"
               data-tab="home">
               <i class="bi bi-house-fill fs-4"></i> <small class="fw-semibold">Home</small>
            </button>
            <button class="nav-link border-0 bg-transparent d-flex flex-column align-items-center" data-tab="search">
               <i class="bi bi-search fs-4"></i> <small class="fw-semibold">T√¨m ki·∫øm</small>
            </button>
         </div>
      </nav>
      <div class="modal fade" id="notificationsModal" tabindex="-1">
         <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title theme-text-primary fw-bold"><i class="bi bi-bell-fill me-2"></i>Th√¥ng b√°o</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ƒê√≥ng"></button>
               </div>
               <div class="modal-body p-0">
                  <div class="d-flex justify-content-between align-items-center p-3 border-bottom"><button
                        class="btn btn-sm btn-outline-primary" id="mark-all-read"> <i
                           class="bi bi-check-all me-1"></i>ƒê√°nh d·∫•u ƒë√£ ƒë·ªçc </button> <button
                        class="btn btn-sm btn-outline-danger" id="clear-all-notifications"> <i
                           class="bi bi-trash me-1"></i>X√≥a t·∫•t c·∫£ </button>
                  </div>
                  <div id="notifications-list"></div>
               </div>
            </div>
         </div>
      </div>
      <div class="modal fade app-layout-modal" id="commentModal" tabindex="-1">
         <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title theme-text-primary fw-bold">B√¨nh lu·∫≠n</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
               </div>
               <div class="modal-body d-flex flex-column">
                  <div class="flex-grow-1 overflow-auto mb-3" id="comments-list">
                     <p class="text-center text-muted py-5">Ch∆∞a c√≥ b√¨nh lu·∫≠n</p>
                  </div>
                  <div class="input-group"><input type="text" class="form-control" id="comment-input"
                        placeholder="Vi·∫øt b√¨nh lu·∫≠n..."> <button class="btn btn-primary" id="send-comment"> <i
                           class="bi bi-send"></i> </button>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="modal fade app-layout-modal" id="profileModal" tabindex="-1">
         <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title theme-text-primary fw-bold">H·ªì s∆° c√° nh√¢n</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
               </div>
               <div class="modal-body">

                  <div class="text-center mb-4">
                     <div class="position-relative d-inline-block mb-3">
                        <div class="avatar-circle avatar-circle-lg" style="border: 1.5px solid var(--primary-color);">
                           <div id="profile-avatar"
                              class="w-100 h-100 d-flex align-items-center justify-content-center">
                              <i class="bi bi-person-fill theme-text-primary" style="font-size: 3rem;"></i>
                           </div>
                        </div>

                        <label for="avatar-input"
                           class="position-absolute bottom-0 end-0 bg-body-secondary rounded-circle shadow-sm d-flex align-items-center justify-content-center"
                           style="width: 32px; height: 32px; cursor: pointer; transition: transform 0.2s; border: 1.5px solid var(--primary-color);">
                           <i class="bi bi-camera-fill text-dark" style="font-size: 14px;"></i>
                        </label>
                     </div>

                     <input type="file" id="avatar-input" accept="image/*" class="d-none">
                  </div>

                  <div class="mb-3"><label class="form-label fw-semibold"> <i class="bi bi-person me-2"></i>T√™n ng∆∞·ªùi
                        d√πng </label> <input type="text" class="form-control" id="profile-username"
                        placeholder="username">
                  </div>
                  <div class="mb-4"><label class="form-label fw-semibold"> <i class="bi bi-card-text me-2"></i>T√™n hi·ªÉn
                        th·ªã </label> <input type="text" class="form-control" id="profile-fullname"
                        placeholder="T√™n c·ªßa b·∫°n">
                  </div>
                  <div class="border-top pt-4">
                     <h6 class="fw-bold theme-text-primary mb-3"><i class="bi bi-gear me-2"></i>C√†i ƒë·∫∑t</h6>
                     <div class="card mb-3">
                        <div class="card-body">
                           <div class="d-flex align-items-center mb-3">
                              <div class="icon-box icon-box-sm theme-bg-primary text-white me-3"><i
                                    class="bi bi-palette-fill"></i>
                              </div>
                              <div>
                                 <h6 class="mb-0 fw-bold">Giao di·ªán</h6>
                                 <small class="text-muted">Ch·ªçn m√†u s·∫Øc cho ·ª©ng d·ª•ng</small>
                              </div>
                           </div>
                           <div class="d-flex gap-2 justify-content-between">
                              <div class="theme-option flex-fill" data-theme="green"
                                 style="background: linear-gradient(135deg, #006B68 0%, #FFC62F 100%);"></div>
                              <div class="theme-option flex-fill" data-theme="purple"
                                 style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                              <div class="theme-option flex-fill" data-theme="blue"
                                 style="background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);"></div>
                              <div class="theme-option flex-fill" data-theme="red"
                                 style="background: linear-gradient(135deg, #dc2626 0%, #fb923c 100%);"></div>
                           </div>
                        </div>
                     </div>
                     <!--div class="card mb-3">
                        <div class="card-body">
                           <div class="d-flex align-items-center mb-3">
                              <div class="icon-box icon-box-sm text-white me-3" style="background: #6f42c1;"><i
                                    class="bi bi-grid-3x3"></i>
                              </div>
                              <div>
                                 <h6 class="mb-0 fw-bold">Ch·ªânh s·ª≠a b·ªë c·ª•c</h6>
                                 <small class="text-muted">S·∫Øp x·∫øp v√† thay ƒë·ªïi k√≠ch th∆∞·ªõc kh·ªëi d·ªØ li·ªáu</small>
                              </div>
                           </div>
                           <button class="btn btn-outline-primary w-100" id="enter-layout-edit"> <i
                                 class="bi bi-pencil-square me-2"></i>Ch·ªânh s·ª≠a b·ªë c·ª•c </button>
                        </div>
                     </div-->
                  </div>
                  <button class="btn btn-primary w-100 py-3 mt-3" id="save-profile"> <i
                        class="bi bi-check-circle me-2"></i>L∆∞u thay ƒë·ªïi </button>
               </div>
            </div>
         </div>
      </div>
      <div class="modal fade modal-popup-style" id="postOptionsModal" tabindex="-1">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="list-group list-group-flush"><button class="list-group-item list-group-item-action"
                     id="edit-post-option"> <i class="bi bi-pencil theme-text-primary me-2"></i> <span
                        class="fw-semibold">Ch·ªânh s·ª≠a b√†i vi·∫øt</span> </button> <button
                     class="list-group-item list-group-item-action text-danger" id="delete-post-option"> <i
                        class="bi bi-trash me-2"></i> <span class="fw-semibold">X√≥a b√†i vi·∫øt</span> </button> <button
                     class="list-group-item list-group-item-action" data-bs-dismiss="modal"> H·ªßy </button>
               </div>
            </div>
         </div>
      </div>
      <div class="modal fade modal-popup-style" id="deleteConfirmModal" tabindex="-1">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-center p-3">
               <div class="modal-body">
                  <i class="bi bi-trash text-danger" style="font-size: 2rem;"></i>
                  <p>X√°c nh·∫≠n x√≥a?</p>
                  <div class="d-flex gap-2"><button class="btn btn-secondary flex-fill"
                        data-bs-dismiss="modal">H·ªßy</button> <button class="btn btn-danger flex-fill"
                        id="confirm-delete">X√≥a</button>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="modal fade app-layout-modal" id="bikeStatsModal" tabindex="-1">
         <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title theme-text-primary fw-bold"><i class="bi bi-bar-chart-fill me-2"></i>Th·ªëng k√™
                     l∆∞·ª£t ƒë·∫°p</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
               </div>
               <div class="modal-body">
                  <div class="row g-3 mb-4">
                     <div class="col-4">
                        <div class="card text-center p-3">
                           <i class="bi bi-calendar-day theme-text-primary fs-3"></i>
                           <p class="small text-muted mb-1 mt-2">H√¥m nay</p>
                           <p id="stats-today" class="fs-4 fw-bold theme-text-primary mb-0">0</p>
                        </div>
                     </div>
                     <div class="col-4">
                        <div class="card text-center p-3">
                           <i class="bi bi-calendar-week text-success fs-3"></i>
                           <p class="small text-muted mb-1 mt-2">Tu·∫ßn n√†y</p>
                           <p id="stats-week" class="fs-4 fw-bold text-success mb-0">0</p>
                        </div>
                     </div>
                     <div class="col-4">
                        <div class="card text-center p-3">
                           <i class="bi bi-calendar-month text-warning fs-3"></i>
                           <p class="small text-muted mb-1 mt-2">Th√°ng n√†y</p>
                           <p id="stats-month" class="fs-4 fw-bold text-warning mb-0">0</p>
                        </div>
                     </div>
                  </div>

                  <div class="p-3 bg-white mb-2">
                     <h6 class="fw-bold mb-3 small text-muted text-uppercase">Bi·ªÉu ƒë·ªì</h6>
                     <div
                        style="overflow-x: auto; overflow-y: hidden; white-space: nowrap; -webkit-overflow-scrolling: touch;">
                        <div id="bike-chart" style="height: 200px; min-width: 100%;">
                           <div class="d-flex align-items-center justify-content-center h-100 text-muted small">
                              ƒêang t·∫£i bi·ªÉu ƒë·ªì...
                           </div>
                        </div>
                     </div>
                     <div class="text-center small text-muted mt-1">L∆∞·ªõt sang ngang ƒë·ªÉ xem th√™m &larr; &rarr;</div>
                  </div>
                  <div class="card p-3">
                     <div class="d-flex justify-content-between align-items-center mb-3">
                        <h6 class="fw-bold mb-0">L·ªãch s·ª≠</h6>
                        <button class="btn btn-sm btn-outline-primary" id="add-bike-entry"> <i
                              class="bi bi-plus-circle me-1"></i>Th√™m </button>
                     </div>
                     <div id="bike-history-list"></div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="modal fade modal-popup-style" id="addBikeEntryModal" tabindex="-1" aria-hidden="true">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title fw-bold theme-text-primary">Th√™m l∆∞·ª£t ƒë·∫°p</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
               </div>
               <div class="modal-body">
                  <div class="mb-3">
                     <label class="form-label fw-bold">Ch·ªçn Ng√†y</label>
                     <input type="date" id="manual-bike-date" class="form-control form-control-lg">
                  </div>
                  <div class="mb-3">
                     <label class="form-label fw-bold">Ch·ªçn Gi·ªù</label>
                     <input type="time" id="manual-bike-time" class="form-control form-control-lg">
                  </div>
                  <div class="text-center text-muted small">
                     L∆∞·ª£t ƒë·∫°p s·∫Ω ƒë∆∞·ª£c l∆∞u v√†o l·ªãch s·ª≠ v·ªõi th·ªùi gian b·∫°n ch·ªçn.
                  </div>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
                  <button type="button" class="btn btn-primary theme-bg-primary border-0"
                     onclick="saveManualBikeEntry()">L∆∞u</button>
               </div>
            </div>
         </div>
      </div>
      <div class="modal fade app-layout-modal" id="goldStatsModal" tabindex="-1">
         <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
               <div class="modal-header">
                  <h5 class="modal-title theme-text-primary fw-bold"><i class="bi bi-bar-chart-fill me-2"></i>Th·ªëng k√™
                     gi√° v√†ng</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
               </div>
               <div class="modal-body">
                  <div class="row g-3 mb-4">
                     <div class="col-6">
                        <div class="card text-center p-3">
                           <i class="bi bi-arrow-up-circle text-success fs-3"></i>
                           <p class="small text-muted mb-1 mt-2">Cao nh·∫•t</p>
                           <p id="gold-highest-price" class="fs-5 fw-bold text-success mb-0">-</p>
                           <small id="gold-highest-date" class="text-muted">-</small>
                        </div>
                     </div>
                     <div class="col-6">
                        <div class="card text-center p-3">
                           <i class="bi bi-arrow-down-circle text-danger fs-3"></i>
                           <p class="small text-muted mb-1 mt-2">Th·∫•p nh·∫•t</p>
                           <p id="gold-lowest-price" class="fs-5 fw-bold text-danger mb-0">-</p>
                           <small id="gold-lowest-date" class="text-muted">-</small>
                        </div>
                     </div>
                  </div>

                  <div class="p-3 bg-white mb-2 border rounded-3 shadow-sm">
                     <h6 class="fw-bold mb-3 small text-muted text-uppercase">Bi·ªÉu ƒë·ªì</h6>
                     <div
                        style="overflow-x: auto; overflow-y: hidden; white-space: nowrap; -webkit-overflow-scrolling: touch;">
                        <div id="gold-chart" style="height: 300px; min-width: 100%;">
                           <div class="d-flex align-items-center justify-content-center h-100 text-muted small">
                              ƒêang t·∫£i bi·ªÉu ƒë·ªì...
                           </div>
                        </div>
                     </div>
                  </div>

                  <div class="card p-3">
                     <div class="d-flex justify-content-between align-items-center mb-3">
                        <h6 class="fw-bold mb-0">L·ªãch s·ª≠</h6>
                        <button class="btn btn-sm btn-outline-primary" id="add-gold-entry"> <i
                              class="bi bi-plus-circle me-1"></i>Th√™m </button>
                     </div>
                     <div id="gold-history-list"></div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="modal fade" id="addGoldEntryModal" tabindex="-1">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow">
               <div class="modal-header border-bottom-0 pb-0">
                  <h5 class="modal-title theme-text-primary fw-bold">
                     <i class="bi bi-plus-lg me-2"></i>Th√™m Giao D·ªãch
                  </h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
               </div>
               <div class="modal-body pt-3">
                  <div class="row g-3">
                     <div class="col-6">
                        <label class="form-label fw-bold small text-muted">Ng√†y Giao D·ªãch</label>
                        <input type="date" class="form-control" id="gold-trans-date">
                     </div>
                     <div class="col-6">
                        <label class="form-label fw-bold small text-muted">Lo·∫°i Giao D·ªãch</label>
                        <select class="form-select" id="gold-trans-type">
                           <option value="buy">Mua (Buy)</option>
                           <option value="sell">B√°n (Sell)</option>
                        </select>
                     </div>
                     <div class="col-6">
                        <label class="form-label fw-bold small text-muted">S·ªë l∆∞·ª£ng (ch·ªâ)</label>
                        <input type="number" class="form-control" id="gold-trans-qty" placeholder="0" step="0.1">
                     </div>
                     <div class="col-6">
                        <label class="form-label fw-bold small text-muted">Gi√° (VND/ch·ªâ)</label>
                        <input type="number" class="form-control" id="gold-trans-price" placeholder="0" step="1000">
                     </div>
                     <div class="col-12">
                        <label class="form-label fw-bold small text-muted">Ghi ch√∫</label>
                        <textarea class="form-control" id="gold-trans-note" rows="2"
                           placeholder="Ghi ch√∫ giao d·ªãch..."></textarea>
                     </div>
                  </div>
                  <button class="btn btn-primary w-100 mt-4 py-2 fw-bold" id="save-gold-transaction">
                     L∆∞u Giao D·ªãch
                  </button>
               </div>
            </div>
         </div>
      </div>
      <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 9999;">
         <div id="loadingToast" class="toast" role="alert">
            <div class="toast-body d-flex align-items-center">
               <div class="spinner-border spinner-border-sm me-2" role="status"></div>
               ƒêang x·ª≠ l√Ω...
            </div>
         </div>
      </div>
      <div class="position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 9999;">
         <div id="successToast" class="toast" role="alert">
            <div class="toast-body bg-success text-white rounded"><i class="bi bi-check-circle me-2"></i> <span
                  id="toast-message">Th√†nh c√¥ng!</span>
            </div>
         </div>
      </div>
   </div>
   <div class="modal fade" id="createPostModal" tabindex="-1">
      <div class="modal-dialog modal-fullscreen">
         <div class="modal-content">
            <div class="modal-header">
               <h5 class="modal-title theme-text-primary fw-bold">T·∫°o b√†i vi·∫øt</h5>
               <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
               <div class="mb-3"><textarea class="form-control" id="post-input" rows="4"
                     placeholder="B·∫°n ƒëang nghƒ© g√¨?"></textarea>
               </div>
               <div id="image-preview-container" class="d-none mb-3">
                  <div class="d-flex justify-content-between align-items-center mb-2"><span class="text-muted"><span
                           id="image-count">0</span> ·∫£nh</span> <button class="btn btn-sm btn-outline-danger"
                        id="clear-all-images"> <i class="bi bi-trash"></i> X√≥a t·∫•t c·∫£ </button>
                  </div>
                  <div id="images-preview-grid" class="mt-2"></div>
               </div>
               <div id="image-options" class="d-none mb-2 d-flex justify-content-end border-bottom pb-2">
                  <div class="form-check form-switch">
                     <input class="form-check-input" type="checkbox" id="hd-quality-switch" checked>
                     <label class="form-check-label small fw-semibold" for="hd-quality-switch">Ch·∫•t l∆∞·ª£ng HD</label>
                  </div>
               </div>
               <div id="layout-selector" class="d-none mb-3 fade-in">
                  <div class="d-flex align-items-center justify-content-between mb-2">
                     <p class="form-label fw-bold small text-muted text-uppercase mb-0">
                        <i class="bi bi-grid-1x2 me-1"></i>Ch·ªçn b·ªë c·ª•c
                     </p>
                     <span class="badge bg-light text-secondary border">T·ª± ƒë·ªông ƒë·ªÅ xu·∫•t</span>
                  </div>
                  <div class="row g-2">
                     <div class="col-4">
                        <div class="layout-preview-box p-2 text-center" data-layout="grid-2x2">
                           <div class="layout-grid-visual visual-2x2">
                              <div></div>
                              <div></div>
                              <div></div>
                              <div></div>
                           </div>
                        </div>
                     </div>
                     <div class="col-4">
                        <div class="layout-preview-box p-2 text-center" data-layout="1-wide">
                           <div class="layout-grid-visual visual-1-wide">
                              <div></div>
                              <div></div>
                              <div></div>
                           </div>
                        </div>
                     </div>
                     <div class="col-4">
                        <div class="layout-preview-box p-2 text-center" data-layout="1-tall">
                           <div class="layout-grid-visual visual-1-tall">
                              <div></div>
                              <div></div>
                              <div></div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="mb-3"><label class="btn btn-outline-primary w-100"> <i class="bi bi-image me-2"></i>Th√™m ·∫£nh
                     <input type="file" id="image-input" multiple accept="image/*,video/*" class="d-none"></label>
               </div>
               <button class="btn btn-primary w-100 py-3" id="post-btn" onclick="handlePostSubmit()" disabled>
                  <i class="bi bi-send me-2"></i>ƒêƒÉng b√†i
               </button>
            </div>
         </div>
      </div>
   </div>
	 
   <div class="modal fade" id="commentOptionsModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
         <div class="modal-content">
            <div class="list-group list-group-flush">
               <button class="list-group-item list-group-item-action" id="edit-comment-btn">
                  <i class="bi bi-pencil theme-text-primary me-2"></i>Ch·ªânh s·ª≠a b√¨nh lu·∫≠n
               </button>
               <button class="list-group-item list-group-item-action text-danger" id="delete-comment-btn">
                  <i class="bi bi-trash me-2"></i>X√≥a b√¨nh lu·∫≠n
               </button>
               <button class="list-group-item list-group-item-action" data-bs-dismiss="modal">H·ªßy</button>
            </div>
         </div>
      </div>
   </div>
   <div class="modal fade" id="editCommentContentModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
         <div class="modal-content">
            <div class="modal-header">
               <h5 class="modal-title fw-bold">S·ª≠a b√¨nh lu·∫≠n</h5>
               <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
               <input type="text" id="edit-comment-input" class="form-control" placeholder="Nh·∫≠p n·ªôi dung m·ªõi...">
            </div>
            <div class="modal-footer">
               <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
               <button type="button" class="btn btn-primary" id="save-edit-comment">L∆∞u</button>
            </div>
         </div>
      </div>
   </div>
   
   <div class="modal fade p-0" id="imageViewerModal" tabindex="-1" aria-hidden="true" style="z-index: 1060;">
    <div class="modal-dialog modal-fullscreen m-0">
        <div class="modal-content bg-black h-100 border-0">
            
            <button type="button" class="btn-close btn-close-white position-absolute top-0 end-0 m-3 z-3" data-bs-dismiss="modal" aria-label="Close"></button>

            <div class="modal-body p-0 d-flex align-items-center justify-content-center h-100 position-relative">
                
                <div id="postImageCarousel" class="carousel slide w-100 h-100" data-bs-interval="false">
                    
                    <div class="carousel-inner h-100 d-flex align-items-center" id="carousel-items-container">
                        </div>

                    <button class="carousel-control-prev" type="button" data-bs-target="#postImageCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>

                    <button class="carousel-control-next" type="button" data-bs-target="#postImageCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>

                </div>
            </div>
        </div>
    </div>
</div>
    
</body>

</html>